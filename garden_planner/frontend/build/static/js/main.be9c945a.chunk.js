(window.webpackJsonpfrontend=window.webpackJsonpfrontend||[]).push([[0],{100:function(e,t,n){e.exports=n.p+"static/media/Penny_3.5e036fdc.jpg"},101:function(e,t,n){e.exports=n.p+"static/media/Penny_4.ba0f8021.jpg"},102:function(e,t,n){e.exports=n.p+"static/media/Penny_5.825f553d.jpg"},104:function(e,t,n){e.exports=n(171)},109:function(e,t,n){},150:function(e,t,n){},151:function(e,t,n){},152:function(e,t,n){},166:function(e,t,n){},171:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(18),l=n.n(o),i=(n(109),n(67)),c=n(28),s=n(7),u=n(8),d=n(17),h=n(14),m=n(16),p=n(176),f=n(175),b=(n(73),function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,{collapseOnSelect:!0,expand:"md",className:"bg-pastel-green"},r.a.createElement(p.a.Brand,{href:this.props.defaultPath},"Penny's Garden Planner"),r.a.createElement(p.a.Toggle,{"aria-controls":"navbar-actions"}),r.a.createElement(p.a.Collapse,{id:"navbar-actions"},r.a.createElement(f.a,{className:"mr-auto",activeKey:this.props.location.pathname},this.props.navItems.map((function(e){return r.a.createElement(f.a.Item,{key:e.name},r.a.createElement(f.a.Link,{href:e.path},e.name))})))))}}]),t}(r.a.Component)),w=Object(c.f)(b),y=n(42),g=n(103),v=n(49),E=n.n(v),k=n(30),O=n.n(k),C=n(41),j=(n(76),n(38)),P=n.n(j),N=n(92),R=n.n(N),S=n(64),G=n.n(S),L=n(50),x=n.n(L),I=n(70),A=n.n(I),B=[],T=function(){function e(t){Object(s.a)(this,e),this.id=t.id,this.rows=t.rows,this.cols=t.cols,this.fill=t.fill,this.styles={display:"grid",gridTemplateRows:"repeat(".concat(t.rows,", 1fr)"),gridTemplateColumns:"repeat(".concat(t.cols,", 1fr)"),position:"absolute",top:0,left:0,width:"100%",height:"100%"}}return Object(u.a)(e,null,[{key:"getObject",value:function(e){return B.find((function(t){return t.id===e}))}},{key:"allObjects",value:function(){return B}},{key:"loadObjectsFromApi",value:function(){fetch("/backend/layouts/").then((function(e){return 200===e.status?e.json():null})).then((function(t){t&&t.forEach((function(t){return B.push(new e(t))}))}))}}]),e}(),_=[],D=function(){function e(t){Object(s.a)(this,e),this.id=t.id,this.name=t.name,this.namePlural=t.name_plural,this.scientificName=t.scientific_name,this.layoutIds=t.layouts,this.goodNeighborIds=t.good_neighbors,this.badNeighborIds=t.bad_neighbors,this.className=t.name.toLowerCase().replace(/ /g,"-"),this.imageName=t.name.toLowerCase().replace(/ /g,"-"),this.defaultLayout=this.defaultLayout.bind(this)}return Object(u.a)(e,[{key:"defaultLayout",value:function(){return T.getObject(this.layoutIds[0])}}],[{key:"getObject",value:function(e){return _.find((function(t){return t.id===e}))}},{key:"allObjects",value:function(){return _}},{key:"loadObjectsFromApi",value:function(){fetch("/backend/plants/").then((function(e){return 200===e.status?e.json():null})).then((function(t){t&&t.forEach((function(t){return _.push(new e(t))}))}))}}]),e}(),F=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Object(s.a)(this,e),this.plant=t,this.layout=n}return Object(u.a)(e,null,[{key:"neighbors",value:function(e,t,n){var a=n.length,r=n[0].length,o=[];return[e-1,e,e+1].forEach((function(l){[t-1,t,t+1].forEach((function(i){(function(n,o){return n>=0&&n<a&&o>=0&&o<r&&"".concat(n,"_").concat(o)!=="".concat(e,"_").concat(t)})(l,i)&&o.push(n[l][i])}))})),o}},{key:"plantPickerGroups",value:function(t,n,a){var r=e.neighbors(t,n,a).map((function(e){return e.plant})).filter(Boolean),o={},l=new Set,i=new Set,c=new Set;return 0===r.length?D.allObjects().forEach((function(e){return l.add(e.id)})):(D.allObjects().forEach((function(e){return i.add(e.id)})),r.forEach((function(e){e.goodNeighborIds.forEach((function(e){i.delete(e),l.add(e)}))})),r.forEach((function(e){e.badNeighborIds.forEach((function(e){i.delete(e),l.delete(e),c.add(e)}))}))),[["good",l],["neutral",i],["bad",c]].forEach((function(e){var t=Object(C.a)(e,2),n=t[0],a=t[1];a.size>0&&(o[n]=Array.from(a).map((function(e){return D.getObject(e)})))})),o}}]),e}(),H=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={currentPlantGroup:Object.keys(e.plantGroups)[0]},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"renderClearPlotButton",value:function(){var e=this;if(this.props.plot.plant)return r.a.createElement(P.a,{block:!0,variant:"success",className:"mb-1",onClick:function(){return e.props.handleSelect(null,null)}},r.a.createElement("span",null,"Clear plot"))}},{key:"renderNeighbors",value:function(){var e=this.props.neighbors.map((function(e){return e.plant})).filter(Boolean);if(e.length>0){var t=Array.from(new Set(e.map((function(e){return e.namePlural.toLowerCase()})))).sort().join(", ");return r.a.createElement("span",{className:"text-wrap text-sm"},"Neighbors: ",t)}}},{key:"renderFilters",value:function(){var e=this,t=Object.keys(this.props.plantGroups).length;if(t>1){var n={all:"All",good:"Compatible",neutral:"Neutral",bad:"Combative"},a={width:"".concat(Math.floor(96/t),"%")};return r.a.createElement("div",{className:"mb-2"},r.a.createElement(R.a,{type:"radio",name:"currentPlantGroupFilter",value:this.state.currentPlantGroup,onChange:function(t){e.setState({currentPlantGroup:t})},className:"bg-light w-100"},Object.entries(this.props.plantGroups).map((function(e){var t=Object(C.a)(e,2),o=t[0];t[1];return r.a.createElement(G.a,{size:"sm",className:"text-center",variant:"outline-success",value:o,key:o,style:a},n[o])}))))}}},{key:"renderPlantList",value:function(){var e=this,t=this.state.currentPlantGroup?this.props.plantGroups[this.state.currentPlantGroup]:[];return r.a.createElement(A.a,null,t.sort((function(e,t){return e.namePlural.localeCompare(t.namePlural)})).map((function(t){return r.a.createElement(A.a.Item,{action:!0,key:t.id,onClick:function(){return e.props.handleSelect(t,t.defaultLayout())}},r.a.createElement("span",null,t.namePlural,r.a.createElement("div",{className:"".concat(t.className," icon float-right")})))})))}},{key:"render",value:function(){return r.a.createElement(x.a,{show:this.props.show,onHide:this.props.handleHide,scrollable:!0},r.a.createElement(x.a.Header,{closeButton:!0,className:"bg-pastel-green"},"Plant Picker"),r.a.createElement(x.a.Body,null,this.renderClearPlotButton(),this.props.plot.plant?r.a.createElement("hr",null):null,this.renderNeighbors(),this.renderFilters(),this.renderPlantList()))}}]),t}(r.a.Component),M=(n(45),n(150),n(151),function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"renderPlants",value:function(){if(this.props.plant){var e="bg ".concat(this.props.plant.className),t=function(e,t){return{gridArea:"".concat(e+1," / ").concat(t+1," / auto / auto")}};return this.props.layout.fill.map((function(n,a){var o=Object(C.a)(n,2),l=o[0],i=o[1];return r.a.createElement("div",{className:"plant",style:t(l,i),key:a},r.a.createElement("div",{className:e}))}))}}},{key:"render",value:function(){return r.a.createElement("button",{className:"plot",id:this.props.id,onClick:this.props.onClick},r.a.createElement("div",{className:"plants",style:this.props.layout?this.props.layout.styles:null},this.renderPlants()))}}]),t}(r.a.Component)),z=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"gridContainerStyles",value:function(){var e=Math.floor(.9*window.innerWidth/this.props.numCols),t=Math.floor(.7*window.innerHeight/this.props.numRows),n=Math.min(e,t),a=Math.max(n,60);return{width:"".concat(a*this.props.numCols,"px"),height:"".concat(a*this.props.numRows,"px")}}},{key:"gridStyles",value:function(){return{gridTemplateRows:"repeat(".concat(this.props.numRows,", 1fr)"),gridTemplateColumns:"repeat(".concat(this.props.numCols,", 1fr)")}}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"gridContainer",style:this.gridContainerStyles()},r.a.createElement("div",{id:"grid",style:this.gridStyles()},this.props.grid.map((function(t,n){return t.map((function(t,a){var o="r".concat(n,"c").concat(a);return r.a.createElement(M,{key:o,id:o,plant:t.plant,layout:t.layout,onClick:function(){return e.props.handleGridClick(n,a)}})}))}))))}}]),t}(r.a.Component),W=(n(152),n(48)),J=n.n(W),K=n(96),Y=n.n(K),$=n(65),q=n.n($),Q=n(93),U=n.n(Q),V=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).btnGroupContainerClass="d-flex flex-column m-1 p-0 border border-secondary rounded text-center text-nowrap",n.btnGroupLabelClass="badge badge-secondary rounded-0 w-100",n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"renderDropdownButton",value:function(e,t,n){return r.a.createElement(U.a,{id:e,title:t,disabled:!(n.length>1),variant:"outline-secondary",size:"sm"},n.map((function(e,t){return r.a.createElement(q.a.Item,{key:t,onSelect:e.handleSelect},e.label)})))}},{key:"render",value:function(){return r.a.createElement(Y.a,{"aria-label":"Controls",className:"justify-content-center"},r.a.createElement("div",{className:this.btnGroupContainerClass},r.a.createElement("span",{className:this.btnGroupLabelClass},"Rows"),r.a.createElement(J.a,{"aria-label":"Add or delete rows"},this.renderDropdownButton("add-row-btn","Add",this.props.addRowOptions),this.renderDropdownButton("delete-row-btn","Delete",this.props.deleteRowOptions))),r.a.createElement("div",{className:this.btnGroupContainerClass},r.a.createElement("span",{className:this.btnGroupLabelClass},"Columns"),r.a.createElement(J.a,{"aria-label":"Add or delete columns"},this.renderDropdownButton("add-col-btn","Add",this.props.addColOptions),this.renderDropdownButton("delete-col-btn","Delete",this.props.deleteColOptions))))}}]),t}(r.a.Component),X=function(e){return Object(g.a)(Array(e).keys())},Z=function(e){return new Array(e).fill().map((function(e){return new F}))},ee=function(e,t){return Array(e).fill().map((function(e){return Z(t)}))},te=function(e){return e.map((function(e){return e.slice()}))},ne=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={numRows:4,numCols:4,grid:ee(4,4),showPlantPicker:!1},n.handleGridClick=n.handleGridClick.bind(Object(y.a)(n)),n.addRow=n.addRow.bind(Object(y.a)(n)),n.addCol=n.addCol.bind(Object(y.a)(n)),n.clickedRow=null,n.clickedCol=null,n.history=[],n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){D.loadObjectsFromApi(),T.loadObjectsFromApi()}},{key:"handleGridClick",value:function(e,t){this.clickedRow=e,this.clickedCol=t,this.setState({showPlantPicker:!0})}},{key:"addRow",value:function(e){var t=this.state.numRows+1,n=te(this.state.grid);n.splice(e,0,Z(this.state.numCols)),this.setState({numRows:t,grid:n})}},{key:"addRowOptions",value:function(){var e=this,t=function(t){return 0===t?"To top":t===e.state.numRows?"To bottom":"Insert below ".concat(t)};return X(this.state.numRows+1).map((function(n){return{label:t(n),handleSelect:e.addRow.bind(e,n)}}))}},{key:"deleteRow",value:function(e){this.setState((function(t){return{numRows:t.numRows-1,grid:t.grid.map((function(t,n){return n===e?null:t.slice()})).filter(Boolean)}}))}},{key:"deleteRowOptions",value:function(){var e=this,t=function(e){return String(e+1)};return X(this.state.numRows).map((function(n){return{label:t(n),handleSelect:e.deleteRow.bind(e,n)}}))}},{key:"addCol",value:function(e){var t=this.state.numCols+1,n=te(this.state.grid);n.forEach((function(t){return t.splice(e,0,new F)})),this.setState({numCols:t,grid:n})}},{key:"addColOptions",value:function(){var e=this,t=function(t){return 0===t?"To left":t===e.state.numCols?"To right":"Insert right of ".concat(t)};return X(this.state.numCols+1).map((function(n){return{label:t(n),handleSelect:e.addCol.bind(e,n)}}))}},{key:"deleteCol",value:function(e){this.setState((function(t){return{numCols:t.numCols-1,grid:t.grid.map((function(t){return t.map((function(t,n){return n===e?null:t})).filter(Boolean)}))}}))}},{key:"deleteColOptions",value:function(){var e=this,t=function(e){return String(e+1)};return X(this.state.numCols).map((function(n){return{label:t(n),handleSelect:e.deleteCol.bind(e,n)}}))}},{key:"handlePlantPickerSelection",value:function(e,t){var n=te(this.state.grid),a=n[this.clickedRow][this.clickedCol];Object.assign(a,{plant:e,layout:t}),this.clickedRow=null,this.clickedCol=null,this.setState({grid:n,showPlantPicker:!1})}},{key:"renderPlantPicker",value:function(){var e=this;if(this.state.showPlantPicker){var t=this.clickedRow,n=this.clickedCol;return r.a.createElement(H,{show:!0,handleSelect:function(t,n){e.handlePlantPickerSelection(t,n)},handleHide:function(){e.setState({showPlantPicker:!1})},plantGroups:F.plantPickerGroups(t,n,this.state.grid),plot:this.state.grid[t][n],neighbors:F.neighbors(t,n,this.state.grid)})}}},{key:"render",value:function(){return r.a.createElement(E.a,{fluid:!0,className:"mt-2 p-1"},this.renderPlantPicker(),r.a.createElement(O.a,{className:"h-75"},r.a.createElement(O.a.Header,null,r.a.createElement(V,{addRowOptions:this.addRowOptions(),deleteRowOptions:this.deleteRowOptions(),addColOptions:this.addColOptions(),deleteColOptions:this.deleteColOptions()})),r.a.createElement(O.a.Body,{className:"align-content-center m-2 overflow-auto p-0",style:{maxHeight:"70vh",overflowY:"auto"}},r.a.createElement(z,{grid:this.state.grid,numRows:this.state.numRows,numCols:this.state.numCols,handleGridClick:this.handleGridClick}))))}}]),t}(r.a.Component),ae=n(97),re=n.n(ae);function oe(e){var t=e.authorLink,n=e.authorTitle,a=e.authorLabel;return r.a.createElement("div",null,"Icons made by ",r.a.createElement("a",{href:t,title:n},a)," from ",r.a.createElement("a",{href:"https://www.flaticon.com/",title:"Flaticon"},"www.flaticon.com"))}var le=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{class:"text-sm"},r.a.createElement(re.a,null,r.a.createElement("h5",null,"Design your own garden"),r.a.createElement("p",null,"Personalize the size and dimensions, plan out the plants, and get assistance with determining what arrangements work well."),r.a.createElement(P.a,{variant:"success",href:"/"},"Go to Garden Planner")),r.a.createElement(E.a,null,r.a.createElement("h1",{className:"mt-5"},"About Penny's Garden Planner"),r.a.createElement("p",null,"Placeholder...fill this in later."),r.a.createElement("p",null,"Credit..."),r.a.createElement("div",{className:"d-flex flex-column"},r.a.createElement(oe,{authorLabel:"Smashicons",authorTitle:"Smashicons",authorLink:"https://www.flaticon.com/authors/smashicons"}),r.a.createElement(oe,{authorLabel:"Freepik",authorTitle:"Freepik",authorLink:"https://www.flaticon.com/authors/freepik"}),r.a.createElement(oe,{authorLabel:"wanicon",authorTitle:"wanicon",authorLink:"https://www.flaticon.com/authors/wanicon"}),r.a.createElement(oe,{authorLabel:"mynamepong",authorTitle:"mynamepong",authorLink:"https://www.flaticon.com/authors/mynamepong"}))))}}]),t}(r.a.Component),ie=n(36),ce=n.n(ie),se=(n(166),n(98)),ue=n.n(se),de=n(99),he=n.n(de),me=n(100),pe=n.n(me),fe=n(101),be=n.n(fe),we=n(102),ye=n.n(we),ge=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(O.a,null,r.a.createElement(O.a.Header,{as:"h5"},"Penny"),r.a.createElement(O.a.Body,{className:"bg-dark"},r.a.createElement(ce.a,null,r.a.createElement(ce.a.Item,null,r.a.createElement("img",{src:pe.a,alt:"Penny pic #1"})),r.a.createElement(ce.a.Item,null,r.a.createElement("img",{src:be.a,alt:"Penny pic #2"})),r.a.createElement(ce.a.Item,null,r.a.createElement("img",{src:ue.a,alt:"Penny pic #3"})),r.a.createElement(ce.a.Item,null,r.a.createElement("img",{src:he.a,alt:"Penny pic #4"})),r.a.createElement(ce.a.Item,null,r.a.createElement("img",{src:ye.a,alt:"Penny pic #5"})))))}}]),t}(r.a.Component);n(170);function ve(){return r.a.createElement("p",null,"Page not found.")}var Ee=function(){var e=function(e,t){return{path:e,name:t}};return r.a.createElement(i.a,null,r.a.createElement("div",{className:"app"},r.a.createElement(w,{defaultPath:"/",navItems:[e("/","Garden Designer"),e("/about","About"),e("/shrine","Shrine")]}),r.a.createElement(c.c,null,r.a.createElement(c.a,{exact:!0,path:"/",component:ne}),r.a.createElement(c.a,{path:"/about",component:le}),r.a.createElement(c.a,{path:"/shrine",component:ge}),r.a.createElement(c.a,{component:ve}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(Ee,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},45:function(e,t,n){},73:function(e,t,n){},76:function(e,t,n){},98:function(e,t,n){e.exports=n.p+"static/media/Penny_1.5831e7f0.jpg"},99:function(e,t,n){e.exports=n.p+"static/media/Penny_2.c0360f33.jpg"}},[[104,1,2]]]);
//# sourceMappingURL=main.be9c945a.chunk.js.map