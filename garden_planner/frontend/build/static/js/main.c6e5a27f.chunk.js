(window.webpackJsonpfrontend=window.webpackJsonpfrontend||[]).push([[0],{101:function(e,t,n){e.exports=n(167)},106:function(e,t,n){},149:function(e,t,n){},150:function(e,t,n){},151:function(e,t,n){},165:function(e,t,n){},167:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(18),l=n.n(o),i=(n(106),n(6)),c=n(7),s=n(12),u=n(11),d=n(13),h=n(64),m=n(27),p=n(172),f=n(171),b=(n(70),function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,{collapseOnSelect:!0,expand:"md",className:"bg-pastel-green"},r.a.createElement(p.a.Brand,{href:this.props.defaultPath},"Penny's Garden Planner"),r.a.createElement(p.a.Toggle,{"aria-controls":"navbar-actions"}),r.a.createElement(p.a.Collapse,{id:"navbar-actions"},r.a.createElement(f.a,{className:"mr-auto",activeKey:this.props.location.pathname},this.props.navItems.map((function(e){return r.a.createElement(f.a.Item,{key:e.name},r.a.createElement(f.a.Link,{href:e.path},e.name))})))))}}]),t}(r.a.Component)),y=Object(m.f)(b),g=n(39),w=n(100),v=n(37),E=n.n(v),k=n(48),O=n.n(k),j=n(38),C=(n(74),n(34)),P=n.n(C),N=n(89),S=n.n(N),R=n(61),G=n.n(R),x=n(47),L=n.n(x),A=n(67),B=n.n(A),I=[],T=function(){function e(t){Object(i.a)(this,e),this.id=t.id,this.rows=t.rows,this.cols=t.cols,this.fill=t.fill,this.styles={display:"grid",gridTemplateRows:"repeat(".concat(t.rows,", 1fr)"),gridTemplateColumns:"repeat(".concat(t.cols,", 1fr)"),position:"absolute",top:0,left:0,width:"100%",height:"100%"}}return Object(c.a)(e,null,[{key:"getObject",value:function(e){return I.find((function(t){return t.id===e}))}},{key:"allObjects",value:function(){return I}},{key:"loadObjectsFromApi",value:function(){fetch("/backend/layouts/").then((function(e){return 200===e.status?e.json():null})).then((function(t){t&&t.forEach((function(t){return I.push(new e(t))}))}))}}]),e}(),D=[],_=function(){function e(t){Object(i.a)(this,e),this.id=t.id,this.name=t.name,this.namePlural=t.name_plural,this.scientificName=t.scientific_name,this.layoutIds=t.layouts,this.goodNeighborIds=t.good_neighbors,this.badNeighborIds=t.bad_neighbors,this.className=t.name.toLowerCase().replace(/ /g,"-"),this.imageName=t.name.toLowerCase().replace(/ /g,"-"),this.defaultLayout=this.defaultLayout.bind(this)}return Object(c.a)(e,[{key:"defaultLayout",value:function(){return T.getObject(this.layoutIds[0])}}],[{key:"getObject",value:function(e){return D.find((function(t){return t.id===e}))}},{key:"allObjects",value:function(){return D}},{key:"loadObjectsFromApi",value:function(){fetch("/backend/plants/").then((function(e){return 200===e.status?e.json():null})).then((function(t){t&&t.forEach((function(t){return D.push(new e(t))}))}))}}]),e}(),F=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Object(i.a)(this,e),this.plant=t,this.layout=n}return Object(c.a)(e,null,[{key:"neighbors",value:function(e,t,n){var a=n.length,r=n[0].length,o=[];return[e-1,e,e+1].forEach((function(l){[t-1,t,t+1].forEach((function(i){(function(n,o){return n>=0&&n<a&&o>=0&&o<r&&"".concat(n,"_").concat(o)!=="".concat(e,"_").concat(t)})(l,i)&&o.push(n[l][i])}))})),o}},{key:"plantPickerGroups",value:function(t,n,a){var r=e.neighbors(t,n,a).map((function(e){return e.plant})).filter(Boolean),o={},l=new Set,i=new Set,c=new Set;return 0===r.length?_.allObjects().forEach((function(e){return l.add(e.id)})):(_.allObjects().forEach((function(e){return i.add(e.id)})),r.forEach((function(e){e.goodNeighborIds.forEach((function(e){i.delete(e),l.add(e)}))})),r.forEach((function(e){e.badNeighborIds.forEach((function(e){i.delete(e),l.delete(e),c.add(e)}))}))),[["good",l],["neutral",i],["bad",c]].forEach((function(e){var t=Object(j.a)(e,2),n=t[0],a=t[1];a.size>0&&(o[n]=Array.from(a).map((function(e){return _.getObject(e)})))})),o}}]),e}(),H=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={currentPlantGroup:Object.keys(e.plantGroups)[0]},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"renderClearPlotButton",value:function(){var e=this;if(this.props.plot.plant)return r.a.createElement(P.a,{block:!0,variant:"success",className:"mb-1",onClick:function(){return e.props.handleSelect(null,null)}},r.a.createElement("span",null,"Clear plot"))}},{key:"renderNeighbors",value:function(){var e=this.props.neighbors.map((function(e){return e.plant})).filter(Boolean);if(e.length>0){var t=Array.from(new Set(e.map((function(e){return e.namePlural.toLowerCase()})))).sort().join(", ");return r.a.createElement("span",{className:"text-wrap text-sm"},"Neighbors: ",t)}}},{key:"renderFilters",value:function(){var e=this,t=Object.keys(this.props.plantGroups).length;if(t>1){var n={all:"All",good:"Compatible",neutral:"Neutral",bad:"Combative"},a={width:"".concat(Math.floor(96/t),"%")};return r.a.createElement("div",{className:"mb-2"},r.a.createElement(S.a,{type:"radio",name:"currentPlantGroupFilter",value:this.state.currentPlantGroup,onChange:function(t){e.setState({currentPlantGroup:t})},className:"bg-light w-100"},Object.entries(this.props.plantGroups).map((function(e){var t=Object(j.a)(e,2),o=t[0];t[1];return r.a.createElement(G.a,{size:"sm",className:"text-center",variant:"outline-success",value:o,key:o,style:a},n[o])}))))}}},{key:"renderPlantList",value:function(){var e=this,t=this.state.currentPlantGroup?this.props.plantGroups[this.state.currentPlantGroup]:[];return r.a.createElement(B.a,null,t.sort((function(e,t){return e.namePlural.localeCompare(t.namePlural)})).map((function(t){return r.a.createElement(B.a.Item,{action:!0,key:t.id,onClick:function(){return e.props.handleSelect(t,t.defaultLayout())}},r.a.createElement("span",null,t.namePlural,r.a.createElement("div",{className:"".concat(t.className," icon float-right")})))})))}},{key:"render",value:function(){return r.a.createElement(L.a,{show:this.props.show,onHide:this.props.handleHide,scrollable:!0},r.a.createElement(L.a.Header,{closeButton:!0,className:"bg-pastel-green"},"Plant Picker"),r.a.createElement(L.a.Body,null,this.renderClearPlotButton(),this.props.plot.plant?r.a.createElement("hr",null):null,this.renderNeighbors(),this.renderFilters(),this.renderPlantList()))}}]),t}(r.a.Component),M=(n(44),n(149),n(150),function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"renderPlants",value:function(){if(this.props.plant){var e="bg ".concat(this.props.plant.className),t=function(e,t){return{gridArea:"".concat(e+1," / ").concat(t+1," / auto / auto")}};return this.props.layout.fill.map((function(n,a){var o=Object(j.a)(n,2),l=o[0],i=o[1];return r.a.createElement("div",{className:"plant",style:t(l,i),key:a},r.a.createElement("div",{className:e}))}))}}},{key:"render",value:function(){return r.a.createElement("button",{className:"plot",id:this.props.id,onClick:this.props.onClick},r.a.createElement("div",{className:"plants",style:this.props.layout?this.props.layout.styles:null},this.renderPlants()))}}]),t}(r.a.Component)),q=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"gridContainerStyles",value:function(){var e=Math.floor(.9*window.innerWidth/this.props.numCols),t=Math.floor(.7*window.innerHeight/this.props.numRows),n=Math.min(e,t),a=Math.max(n,60);return{width:"".concat(a*this.props.numCols,"px"),height:"".concat(a*this.props.numRows,"px")}}},{key:"gridStyles",value:function(){return{gridTemplateRows:"repeat(".concat(this.props.numRows,", 1fr)"),gridTemplateColumns:"repeat(".concat(this.props.numCols,", 1fr)")}}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"gridContainer",style:this.gridContainerStyles()},r.a.createElement("div",{id:"grid",style:this.gridStyles()},this.props.grid.map((function(t,n){return t.map((function(t,a){var o="r".concat(n,"c").concat(a);return r.a.createElement(M,{key:o,id:o,plant:t.plant,layout:t.layout,onClick:function(){return e.props.handleGridClick(n,a)}})}))}))))}}]),t}(r.a.Component),z=(n(151),n(46)),W=n.n(z),J=n(93),U=n.n(J),K=n(62),Y=n.n(K),$=n(90),Q=n.n($),V=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).btnGroupContainerClass="d-flex flex-column m-1 p-0 border border-secondary rounded text-center text-nowrap",n.btnGroupLabelClass="badge badge-secondary rounded-0 w-100",n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"renderDropdownButton",value:function(e,t,n){return r.a.createElement(Q.a,{id:e,title:t,disabled:!(n.length>1),variant:"outline-secondary",size:"sm"},n.map((function(e,t){return r.a.createElement(Y.a.Item,{key:t,onSelect:e.handleSelect},e.label)})))}},{key:"render",value:function(){return r.a.createElement(U.a,{"aria-label":"Controls",className:"justify-content-center"},r.a.createElement("div",{className:this.btnGroupContainerClass},r.a.createElement("span",{className:this.btnGroupLabelClass},"Rows"),r.a.createElement(W.a,{"aria-label":"Add or delete rows"},this.renderDropdownButton("add-row-btn","Add",this.props.addRowOptions),this.renderDropdownButton("delete-row-btn","Delete",this.props.deleteRowOptions))),r.a.createElement("div",{className:this.btnGroupContainerClass},r.a.createElement("span",{className:this.btnGroupLabelClass},"Columns"),r.a.createElement(W.a,{"aria-label":"Add or delete columns"},this.renderDropdownButton("add-col-btn","Add",this.props.addColOptions),this.renderDropdownButton("delete-col-btn","Delete",this.props.deleteColOptions))))}}]),t}(r.a.Component),X=function(e){return Object(w.a)(Array(e).keys())},Z=function(e){return new Array(e).fill().map((function(e){return new F}))},ee=function(e,t){return Array(e).fill().map((function(e){return Z(t)}))},te=function(e){return e.map((function(e){return e.slice()}))},ne=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={numRows:4,numCols:4,grid:ee(4,4),showPlantPicker:!1},n.handleGridClick=n.handleGridClick.bind(Object(g.a)(n)),n.addRow=n.addRow.bind(Object(g.a)(n)),n.addCol=n.addCol.bind(Object(g.a)(n)),n.clickedRow=null,n.clickedCol=null,n.history=[],n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){_.loadObjectsFromApi(),T.loadObjectsFromApi()}},{key:"handleGridClick",value:function(e,t){this.clickedRow=e,this.clickedCol=t,this.setState({showPlantPicker:!0})}},{key:"addRow",value:function(e){var t=this.state.numRows+1,n=te(this.state.grid);n.splice(e,0,Z(this.state.numCols)),this.setState({numRows:t,grid:n})}},{key:"addRowOptions",value:function(){var e=this,t=function(t){return 0===t?"To top":t===e.state.numRows?"To bottom":"Insert below ".concat(t)};return X(this.state.numRows+1).map((function(n){return{label:t(n),handleSelect:e.addRow.bind(e,n)}}))}},{key:"deleteRow",value:function(e){this.setState((function(t){return{numRows:t.numRows-1,grid:t.grid.map((function(t,n){return n===e?null:t.slice()})).filter(Boolean)}}))}},{key:"deleteRowOptions",value:function(){var e=this,t=function(e){return String(e+1)};return X(this.state.numRows).map((function(n){return{label:t(n),handleSelect:e.deleteRow.bind(e,n)}}))}},{key:"addCol",value:function(e){var t=this.state.numCols+1,n=te(this.state.grid);n.forEach((function(t){return t.splice(e,0,new F)})),this.setState({numCols:t,grid:n})}},{key:"addColOptions",value:function(){var e=this,t=function(t){return 0===t?"To left":t===e.state.numCols?"To right":"Insert right of ".concat(t)};return X(this.state.numCols+1).map((function(n){return{label:t(n),handleSelect:e.addCol.bind(e,n)}}))}},{key:"deleteCol",value:function(e){this.setState((function(t){return{numCols:t.numCols-1,grid:t.grid.map((function(t){return t.map((function(t,n){return n===e?null:t})).filter(Boolean)}))}}))}},{key:"deleteColOptions",value:function(){var e=this,t=function(e){return String(e+1)};return X(this.state.numCols).map((function(n){return{label:t(n),handleSelect:e.deleteCol.bind(e,n)}}))}},{key:"handlePlantPickerSelection",value:function(e,t){var n=te(this.state.grid),a=n[this.clickedRow][this.clickedCol];Object.assign(a,{plant:e,layout:t}),this.clickedRow=null,this.clickedCol=null,this.setState({grid:n,showPlantPicker:!1})}},{key:"renderPlantPicker",value:function(){var e=this;if(this.state.showPlantPicker){var t=this.clickedRow,n=this.clickedCol;return r.a.createElement(H,{show:!0,handleSelect:function(t,n){e.handlePlantPickerSelection(t,n)},handleHide:function(){e.setState({showPlantPicker:!1})},plantGroups:F.plantPickerGroups(t,n,this.state.grid),plot:this.state.grid[t][n],neighbors:F.neighbors(t,n,this.state.grid)})}}},{key:"render",value:function(){return r.a.createElement(E.a,{fluid:!0,className:"mt-2 p-1"},this.renderPlantPicker(),r.a.createElement(O.a,{className:"h-75"},r.a.createElement(O.a.Header,null,r.a.createElement(V,{addRowOptions:this.addRowOptions(),deleteRowOptions:this.deleteRowOptions(),addColOptions:this.addColOptions(),deleteColOptions:this.deleteColOptions()})),r.a.createElement(O.a.Body,{className:"align-content-center m-2 overflow-auto p-0",style:{maxHeight:"70vh",overflowY:"auto"}},r.a.createElement(q,{grid:this.state.grid,numRows:this.state.numRows,numCols:this.state.numCols,handleGridClick:this.handleGridClick}))))}}]),t}(r.a.Component),ae=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(E.a,{className:"mt-4"},r.a.createElement("h4",null,"Design your own garden!"),r.a.createElement("hr",{className:"my-4"}),r.a.createElement("p",null,"Square-foot gardening is a fun and effective way to grow your own food. It's highly efficient and requires very little space, making it ideal for people who live in urban environments or who have limited mobility. However, it can be difficult for many people to get past the planning phase."),r.a.createElement("p",null,"Our interactive garden designer is here to help. It handles the hard parts for you, like determining seed/seedling arrangements or picking out companion plants."),r.a.createElement(P.a,{variant:"success",href:"/"},"Go to Garden Designer"),r.a.createElement("hr",{className:"my-4"}),r.a.createElement("h6",null,"Learn more about square-foot gardening"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"https://extension.umaine.edu/publications/2761e/"},"University of Maine - Gardening in Small Spaces")),r.a.createElement("li",null,r.a.createElement("a",{href:"https://www.ag.ndsu.edu/publications/lawns-gardens-trees/the-facts-of-square-foot-gardening"},"North Dakota State University")),r.a.createElement("li",null,r.a.createElement("a",{href:"https://hgic.clemson.edu/square-foot-gardening/"},"Clemson Home and Garden Information Center")))))}}]),t}(r.a.Component),re=(n(165),n(94)),oe=n.n(re),le=n(95),ie=n.n(le),ce=n(96),se=n.n(ce),ue=n(97),de=n.n(ue),he=n(98),me=n.n(he),pe=n(99),fe=n.n(pe);function be(e){var t=e.src,n=e.alt;return r.a.createElement("div",{className:"px-2 pb-2"},r.a.createElement("img",{className:"penny-pic",src:t,alt:n}))}var ye=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"d-flex flex-column w-100"},r.a.createElement("div",{className:"shrine-header p-2"},r.a.createElement("h5",null,"Penny"),r.a.createElement("p",{className:"m-0"},"The fun little feline it's named after.")),r.a.createElement("div",{className:"d-flex flex-wrap mw-100 justify-content-center pt-2"},r.a.createElement(be,{src:se.a,alt:"Penny pic #1"}),r.a.createElement(be,{src:de.a,alt:"Penny pic #2"}),r.a.createElement(be,{src:oe.a,alt:"Penny pic #3"}),r.a.createElement(be,{src:fe.a,alt:"Penny pic #4"}),r.a.createElement(be,{src:ie.a,alt:"Penny pic #5"}),r.a.createElement(be,{src:me.a,alt:"Penny pic #6"})))}}]),t}(r.a.Component);function ge(e){var t=e.authorLink,n=e.authorTitle,a=e.authorLabel;return r.a.createElement("div",null,r.a.createElement("a",{href:t,title:n},a)," from ",r.a.createElement("a",{href:"https://www.flaticon.com/",title:"Flaticon"},"www.flaticon.com"))}var we=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(E.a,{className:"mt-4 flex-column"},r.a.createElement("h5",null,"Plant vector icons:"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(ge,{authorLabel:"Smashicons",authorTitle:"Smashicons",authorLink:"https://www.flaticon.com/authors/smashicons"})),r.a.createElement("li",null,r.a.createElement(ge,{authorLabel:"Freepik",authorTitle:"Freepik",authorLink:"https://www.flaticon.com/authors/freepik"})),r.a.createElement("li",null,r.a.createElement(ge,{authorLabel:"wanicon",authorTitle:"wanicon",authorLink:"https://www.flaticon.com/authors/wanicon"})),r.a.createElement("li",null,r.a.createElement(ge,{authorLabel:"mynamepong",authorTitle:"mynamepong",authorLink:"https://www.flaticon.com/authors/mynamepong"}))))}}]),t}(r.a.Component);n(166);function ve(){return r.a.createElement("p",null,"Page not found.")}var Ee=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(h.a,null,r.a.createElement("div",{className:"app"},r.a.createElement(y,{defaultPath:"/",navItems:[{path:"/",name:"Garden Designer"},{path:"/about",name:"About"},{path:"/shrine",name:"Shrine"},{path:"/credits",name:"Credits"}]}),r.a.createElement(m.c,null,r.a.createElement(m.a,{exact:!0,path:"/",component:ne}),r.a.createElement(m.a,{path:"/about",component:ae}),r.a.createElement(m.a,{path:"/shrine",component:ye}),r.a.createElement(m.a,{path:"/credits",component:we}),r.a.createElement(m.a,{component:ve}))))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(Ee,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},44:function(e,t,n){},70:function(e,t,n){},74:function(e,t,n){},94:function(e,t,n){e.exports=n.p+"static/media/Penny_1.5831e7f0.jpg"},95:function(e,t,n){e.exports=n.p+"static/media/Penny_2.c0360f33.jpg"},96:function(e,t,n){e.exports=n.p+"static/media/Penny_3.5e036fdc.jpg"},97:function(e,t,n){e.exports=n.p+"static/media/Penny_4.ba0f8021.jpg"},98:function(e,t,n){e.exports=n.p+"static/media/Penny_5.825f553d.jpg"},99:function(e,t,n){e.exports=n.p+"static/media/Penny_6.0519969f.jpg"}},[[101,1,2]]]);
//# sourceMappingURL=main.c6e5a27f.chunk.js.map